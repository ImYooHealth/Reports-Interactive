<!DOCTYPE html>
<meta charset="utf-8">
<!--
  <style>
    /* Custom styles for the dropdown */
    .choices__input {
      border-color: #CBD5E0;
      background-color: #F7FAFC;
      color: #4A5568;
    }

    .choices__list--single .choices__item {
      background-color: #EDF2F7;
      color: #2D3748;
    }

    .choices__list--dropdown .choices__item--highlighted {
      background-color: #CBD5E0;
      color: #2D3748;
    }
  </style>
-->
<html>
    <head>
        <!-- Load d3.js and plugin for color scale -->
        <!-- For some reason these three scripts need to go in this order -->
        <script src="d3.v4.js"></script>
        <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
        <script src="d3.v3.js"></script>
        <script src="utils.js"></script>

        <!-- CSS -->
        <link href="default.css" rel="stylesheet" type="text/css">
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">


        <!-- For Dropdown -->
        <!-- Include Choices CSS -->
        <link
          rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/styles/choices.min.css"
        />

        <!-- Include Choices JavaScript (latest) -->
        <script src="https://cdn.jsdelivr.net/npm/choices.js@9.0.1/public/assets/scripts/choices.min.js"></script>


    </head>
    <body>
        <div class="h-screen overflow-y-auto top-0 lg:absolute bg-gray-900 lg:block lg:z-40 right-0 lg:left-0 
         style_scrollbar__20XZQ">
            <div class="lg:w-8/12 bg-gray-800 py-6 px-6 rounded-3xl min-w-min max-w-min">
                <div class="flex justify-between text-white items-center mb-8">
                  <p class="text-2xl font-bold">Cell Signatures</p>
                </div>        
                <div class="flex flex-wrap">
                    <!-- The composition of two plots -->
                    <div id="abundance-volcano" class="p-4 rounded-3xl bg-gray-300">
                        <div id="volcano" class="p-7 bg-white rounded-3xl">

                            <div id="volcano_plot"></div>

                            <label for="dropdown">Select a Cell Type</label>
                            <select class="volcano_dropdown_class" name="dropdown" id="cell_type_selection">
                                <option value="304/Volcanoes/B Cells.csv">B Cells</option>
                                <option value="304/Volcanoes/T Cells.csv">T Cells</option>
                                <option value="304/Volcanoes/NK Cells.csv">Natural Killer Cells</option>
                                <option value="304/Volcanoes/Monocytes.csv">Monocytes</option>
                            </select>

                        </div>

                        <div class="p-1">
                        </div>

                        <div id="abundance" class="p-7 bg-white rounded-3xl">

                            <div id="abundance_plot"></div>

                            <label for="dropdown">Select a Gene</label>
                            <select class="abundance_dropdown_class" name="dropdown" id="gene_selection">
                                <option value="304/Abundances/COMT.csv">COMT</option>
                                <option value="304/Abundances/ZZEF1.csv">ZZEF1</option>
                                <option value="304/Abundances/ZYX.csv">ZYX</option>
                            </select>

                        </div>

                        <select id="myDropdown"></select>
                        <select id=".js-choice"></select>


                    </div>
                </div>
            </div>
        </div>

        <!-- Local libraries -->
        <script src="abundance_volcano_304-tailwind.js"></script>
    </body>
</html>

                        <script>
                            // Array of options
                            var options = ['Apple', 'Banana', 'Cherry', 'Date', 'Elderberry'];

                            // Initialize Choices.js
                            var select = new Choices('#myDropdown', {
                              placeholder: "foobar",
                              placeholderValue: 'Type or select an option',
                              searchEnabled: true,
                              searchChoices: true,
                              shouldSort: false,
                              choices: options.map(function(option) {
                                return { value: option, label: option };
                              })
                            });

                            console.log(select)

                            select.passedElement.addEventListener('change', function(event) {
                              var selectedValue = event.detail.value;
                              console.log('Selected value:', selectedValue);
                              // Perform additional actions based on the selected value
                            });
                        </script>

<script type="text/javascript">
  // Pass single element
  const element = document.querySelector('.js-choice');


  // Passing options (with default options)
  const choices = new Choices(element, {
    silent: false,
    items: [],
    choices: [],
    renderChoiceLimit: -1,
    maxItemCount: -1,
    addItems: true,
    addItemFilter: null,
    removeItems: true,
    removeItemButton: false,
    editItems: false,
    allowHTML: true,
    duplicateItemsAllowed: true,
    delimiter: ',',
    paste: true,
    searchEnabled: true,
    searchChoices: true,
    searchFloor: 1,
    searchResultLimit: 4,
    searchFields: ['label', 'value'],
    position: 'auto',
    resetScrollPosition: true,
    shouldSort: true,
    shouldSortItems: false,
    placeholder: true,
    placeholderValue: null,
    searchPlaceholderValue: null,
    prependValue: null,
    appendValue: null,
    renderSelectedChoices: 'auto',
    loadingText: 'Loading...',
    noResultsText: 'No results found',
    noChoicesText: 'No choices to choose from',
    itemSelectText: 'Press to select',
    uniqueItemText: 'Only unique values can be added',
    customAddItemText: 'Only values matching specific conditions can be added',
    addItemText: (value) => {
      return `Press Enter to add <b>"${value}"</b>`;
    },
    maxItemText: (maxItemCount) => {
      return `Only ${maxItemCount} values can be added`;
    },
    valueComparer: (value1, value2) => {
      return value1 === value2;
    },
    classNames: {
      containerOuter: 'choices',
      containerInner: 'choices__inner',
      input: 'choices__input',
      inputCloned: 'choices__input--cloned',
      list: 'choices__list',
      listItems: 'choices__list--multiple',
      listSingle: 'choices__list--single',
      listDropdown: 'choices__list--dropdown',
      item: 'choices__item',
      itemSelectable: 'choices__item--selectable',
      itemDisabled: 'choices__item--disabled',
      itemChoice: 'choices__item--choice',
      placeholder: 'choices__placeholder',
      group: 'choices__group',
      groupHeading: 'choices__heading',
      button: 'choices__button',
      activeState: 'is-active',
      focusState: 'is-focused',
      openState: 'is-open',
      disabledState: 'is-disabled',
      highlightedState: 'is-highlighted',
      selectedState: 'is-selected',
      flippedState: 'is-flipped',
      loadingState: 'is-loading',
      noResults: 'has-no-results',
      noChoices: 'has-no-choices'
    },
    // Choices uses the great Fuse library for searching. You
    // can find more options here: https://fusejs.io/api/options.html
    fuseOptions: {
      includeScore: true
    },
    labelId: '',
    callbackOnInit: null,
    callbackOnCreateTemplates: null
  });    

</script>                        









